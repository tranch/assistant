syntax = "proto3";
package pb;

import "base.proto";

option go_package = "api/pb";

service Message {
  rpc List(MessageRequest) returns (MessageListReply) {}
  rpc Get(MessageRequest) returns (TextReply) {}
  rpc Create(MessageRequest) returns (MessageReply) {}
  rpc Delete(MessageRequest) returns (TextReply) {}
  rpc Send(MessageRequest) returns (StateReply) {}
  rpc Run(MessageRequest) returns (TextReply) {}
}

message MessageRequest {
  int64 id = 1;
  string uuid = 2;
  string text = 3;
}

message MessageReply {
  int64 id = 1;
  string uuid = 2;
  repeated string text = 3;
}

message MessageListReply {
  repeated MessageItem messages = 2;
}

message MessageItem {
  int64 id = 1;
  string uuid = 2;
  string text = 3;
  string type = 4;
  string time = 5;
}